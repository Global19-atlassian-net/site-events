language: dart
sudo: false

install:
  - npm install -g npm@2
  - npm install -g firebase-tools
  - npm install -g bower
  - npm install -g gulp-cli
  - pub global activate linkcheck

before_script:
  - chmod +x ./deploy/linkcheck.sh
  - chmod +x ./deploy/deploy-firebase.sh

script:
  - make
  - ./deploy/linkcheck.sh

deploy:
  - provider: script
    script: ./deploy/deploy-firebase.sh
    skip_cleanup: true
    on:
      branch: master

env:
  global:
    secure: henTFwW1Op1fsO4FDVQ/p0oguReSRU5xAwMwaKPoV51gyx32AibcVahXDxXR3bXhgvpJSDKsI3uQ4b4s/srH43LX5FsW0YN1mblXzAJnkVvykjFEYvsX0SvmIHRNxFZ9MWurjdBDe6s+X64ZPVBLGRg0t75esd1ICFWdzYhs2gmDTOIjv8ZVKpjLvNyzelUlIiAvCyGwLpiDGITxIw4RGdIHiEQz3KC4FAMX5x2RWdjex11t7tY8qdRKkiECZlCl+BBBHGh6ZeMasQSqY4qcJmO6xs2+/z/AlOt3IHyQ20454qmY5nGHgqutRp0ETLe6033AS3sgsMNYWekVGsWhlB/yN9gZPgkPI/EMzoqZSjNB/9SCsh5FdZvhF3bYUN4HfLNeAHP3R6Dh2kPibCCe1JhNxfv7+KybCil5Na0TTq59613C8J+JxRfhc2ITz4OeJtG966gvuHE/BU9P1NcfGYDOzvUlB8rE3qswg76kSRjfHZY3uhzoVyh/wbtLY6U1/4u/9M4Op9pqWlkLbcM5L0XtOImdos47+Aj701P7lDQH2VPlpGkUc0SFxflA/6jPSRWKSy24PnMG8uVkIIaLKvOuatkMu+jErwJWAluVNTWyhcNFBrbb5jDmRElQrG1Zo8CfJ1DvpCbB6SlMirMfmnG4j7HSGvY1BjUK6JogIoI=
